spring:
  application:
    name: service-gateway # 应用名称也是构成 Nacos 配置管理 dataId 字段的一部分 (当 config.prefix 为空时)
    domain-name: cloud.zsebank.com # 腾讯云的访问域名
  cloud:
    nacos:
      # 服务注册发现
      discovery:
        enabled: true # 如果不想使用 Nacos 进行服务注册和发现, 设置为 false 即可
        server-addr: ${spring.application.domain-name}:8848
        # server-addr: 127.0.0.1:8848,127.0.0.1:8849,127.0.0.1:8850 # Nacos 服务器地址
        namespace: d668511d-3dbc-4598-b723-4a51aabc8477
        metadata:
          management:
            context-path: ${server.servlet.context-path}/actuator
  main:
    allow-bean-definition-overriding: true  # 因为将来会引入很多依赖, 难免有重名的 bean
  datasource:
    url: jdbc:mysql://${spring.application.domain-name}:3306/service_center?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    username: root
    password: jjwjjw
  redis:
    database: 0
    host: ${spring.application.domain-name}
    port: 6379
    password: jjwjjw
    lettuce:
      pool:
        # 连接池最大连接数（使用负值表示没有限制） 默认 8
        max-active: 8
        # 连接池最大阻塞等待时间（使用负值表示没有限制） 默认 -1
        max-wait: -1
        # 连接池中的最大空闲连接 默认 8
        max-idle: 8
        # 连接池中的最小空闲连接 默认 0
        min-idle: 0

# 这个地方独立配置, 是网关的数据, 代码 GatewayConfig.java 中读取被监听
nacos:
  gateway:
    route:
      config:
        data-id: zsrc-service-gateway
        group: zsrc-service

signature:
  public-key: MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkMQnEubtxnsU1b3rka/P5geyeK/bQb+VSPxxzFXKZqWv8GjUV30xK4pOqnsyW/LheRGJ5KoGc1nTYVuvxT5vE1zb3WFU5I5QpkwFBdF3tEZxJwnZX5HyAXGFEhG0TDxafArW18wtrZqTGd9I+EruHdtcBcOYHmwkdp+wB7gSFCg2Aj4EGXlnb/vgq+uj1WOgzoFWW99mxYG9U8YS6i9H7id9+JtLqEEXgtN23MatjVNrxXVjbW3tV6pLcfvmqbgAW3zsorv2RM0v3vUHs67Rx41fYkByYApwHtyAG8p0sjNxtk+/DxiKIk7p75CRKpvYLfjPIqeeDYLs3A867yNgOwIDAQAB
  signature_info_key: signature
  expire_time: 5 # 单位为分钟

# 暴露端点
management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    health:
      show-details: always